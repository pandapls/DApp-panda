!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("immer"),require("jotai/vanilla"),require("jotai/react"),require("react")):"function"==typeof define&&define.amd?define(["exports","immer","jotai/vanilla","jotai/react","react"],t):t((e||self).jotaiImmer={},e.immer,e.vanilla,e.react,e.React)}(this,function(e,t,n,r,o){var u=new WeakMap;function i(e,n){var u=r.useSetAtom(e,n);return o.useCallback(function(e){return u(t.produce(e))},[u])}e.atomWithImmer=function(e){var r=n.atom(e,function(e,n,o){return n(r,t.produce(e(r),"function"==typeof o?o:function(){return o}))});return r},e.useImmerAtom=function(e,t){return[r.useAtomValue(e,t),i(e,t)]},e.useSetImmerAtom=i,e.withImmer=function(e){return r=function(){return n.atom(function(t){return t(e)},function(n,r,o){return r(e,t.produce(n(e),"function"==typeof o?o:function(){return o}))})},(u.has(o=e)?u:u.set(o,r())).get(o);var r,o}});
//# sourceMappingURL=index.umd.js.map
